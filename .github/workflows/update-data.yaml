name: Check for data updates

on:
  schedule:
  - cron: '42 0 * * 1'
  workflow_dispatch:

jobs:
  update:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v1

    - name: Update ICANN
      run: bin/update_icann.sh

    - name: Update PublicSuffixList
      run: bin/update_publicsuffix.sh

    - name: Commit changes
      run: bin/data-commit.sh
